{
  "id": "contract_call_simple",
  "version": "2.0.0",
  "category": "basic_transactions",
  "subcategory": "contract_call",
  "difficulty": "medium",
  "title": "Simple Contract Call - Increment Counter",
  "natural_language_templates": [
    "Call the increment() function on the contract at {contract_address}",
    "Increment the counter in the smart contract {contract_address}",
    "Execute the increment function on contract {contract_address}",
    "I need you to call increment() on the contract at address {contract_address}"
  ],
  "description": [
    "Call a simple contract function without parameters.",
    "",
    "Technical context:",
    "- The target contract is a SimpleCounter with an increment() function",
    "- Function signature: increment() (no parameters, no return value)",
    "- This is a state-changing function that increases a counter by 1",
    "- Function selector: 0xd09de08a (keccak256('increment()') first 4 bytes)",
    "- Recommended gas limit: 50000",
    "",
    "Key considerations:",
    "- Create a Contract instance with the contract address and ABI",
    "- Use encode the function call('increment', []) to encode the call",
    "- Set transaction 'to' to the contract address",
    "- Set transaction 'data' to the encoded function call",
    "- Set transaction 'value' to 0 (not sending BNB)",
    "- The contract will emit a CounterIncremented event with the new value",
    "",
    "Success criteria:",
    "- Transaction executes successfully",
    "- Correct contract is called",
    "- Correct function selector is used",
    "- Counter value increases by 1"
  ],
  "blockchain": {
    "chain": "BSC",
    "network": "mainnet"
  },
  "parameters": {
    "contract_address": {
      "type": "address",
      "role": "contract",
      "description": "SimpleCounter contract address",
      "generation": {
        "method": "from_env",
        "env_key": "simple_counter_address",
        "comment": "Use dynamically deployed SimpleCounter contract from environment"
      }
    }
  },
  "validation": {
    "pre_conditions": [
      {
        "type": "contract_exists",
        "description": "SimpleCounter contract must exist",
        "address": "{contract_address}"
      }
    ],
    "post_conditions": [
      {
        "type": "transaction_success",
        "weight": 0.4,
        "description": "Transaction executed successfully"
      },
      {
        "type": "contract_call",
        "weight": 0.2,
        "description": "Transaction calls correct contract",
        "expected": "{contract_address}"
      },
      {
        "type": "function_signature",
        "weight": 0.2,
        "description": "Correct increment function signature",
        "expected": "increment()"
      },
      {
        "type": "counter_incremented",
        "weight": 0.2,
        "description": "Counter value increased by 1",
        "expected_change": "+1"
      }
    ]
  },
  "metadata": {
    "tags": [
      "contract_call",
      "simple",
      "increment",
      "state_change",
      "basic"
    ],
    "estimated_gas": 50000,
    "requires_contract": true,
    "contract_requirements": {
      "contract_type": "SimpleCounter",
      "required_functions": [
        "increment",
        "getCounter"
      ],
      "note": "A simple counter contract for testing basic contract calls"
    }
  }
}
